###############################################################################
#
# IAR ANSI C/C++ Compiler V7.40.3.8902/W32 for ARM        04/Dec/2019  10:57:52
# Copyright 1999-2015 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\src\app.c
#    Command line =  
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\src\app.c
#        -D USE_STDPERIPH_DRIVER -D STM32F10X_CL -lcN
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\STM322xG-EVAL_USBD-HS\List\
#        -o
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\STM322xG-EVAL_USBD-HS\Obj\
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M3 -e --fpu=None --dlib_config "C:\Program Files
#        (x86)\IAR Systems\Embedded Workbench 7.2\arm\INC\c\DLib_Config_Full.h"
#        -I
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\..\
#        -I
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\..\inc\
#        -I
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\..\..\..\..\Libraries\CMSIS\Device\ST\STM32F10x\Include\
#        -I
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\..\..\..\..\Libraries\STM32F10x_StdPeriph_Driver\inc\
#        -I
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\..\..\..\..\Libraries\STM32_USB_OTG_Driver\inc\
#        -I
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\..\..\..\..\Libraries\STM32_USB_Device_Library\Core\inc\
#        -I
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\..\..\..\..\Libraries\STM32_USB_Device_Library\Class\cdc\inc\
#        -I
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\..\..\..\..\Utilities\STM32_EVAL\
#        -I
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\..\..\..\..\Utilities\STM32_EVAL\Common\
#        -I
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\..\..\..\..\Utilities\STM32_EVAL\STM3210C_EVAL\
#        -On --use_c++_inline -I "C:\Program Files (x86)\IAR Systems\Embedded
#        Workbench 7.2\arm\CMSIS\Include\"
#    List file    =  
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\STM322xG-EVAL_USBD-HS\List\app.lst
#    Object file  =  
#        C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\EWARM\STM322xG-EVAL_USBD-HS\Obj\app.o
#
###############################################################################

C:\Users\Administrator\Documents\prj\STM32VCP\Project\USB_Device_Examples\VCP\src\app.c
      1          /**
      2            ******************************************************************************
      3            * @file    app.c
      4            * @author  MCD Application Team
      5            * @version V1.1.0
      6            * @date    19-March-2012
      7            * @brief   This file provides all the Application firmware functions.
      8            ******************************************************************************
      9            * @attention
     10            *
     11            * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
     12            *
     13            * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
     14            * You may not use this file except in compliance with the License.
     15            * You may obtain a copy of the License at:
     16            *
     17            *        http://www.st.com/software_license_agreement_liberty_v2
     18            *
     19            * Unless required by applicable law or agreed to in writing, software 
     20            * distributed under the License is distributed on an "AS IS" BASIS, 
     21            * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     22            * See the License for the specific language governing permissions and
     23            * limitations under the License.
     24            *
     25            ******************************************************************************
     26            */ 
     27          
     28          /* Includes ------------------------------------------------------------------*/ 
     29          
     30          #include "usbd_cdc_core.h"
     31          #include "usbd_usr.h"
     32          #include "usb_conf.h"
     33          #include "usbd_desc.h"
     34          
     35          /** @addtogroup STM32_USB_OTG_DEVICE_LIBRARY
     36            * @{
     37            */
     38          
     39          
     40          /** @defgroup APP_VCP 
     41            * @brief Mass storage application module
     42            * @{
     43            */ 
     44          
     45          /** @defgroup APP_VCP_Private_TypesDefinitions
     46            * @{
     47            */ 
     48          /**
     49            * @}
     50            */ 
     51          
     52          
     53          /** @defgroup APP_VCP_Private_Defines
     54            * @{
     55            */ 
     56          
     57          /**
     58            * @}
     59            */ 
     60          
     61          
     62          /** @defgroup APP_VCP_Private_Macros
     63            * @{
     64            */ 
     65          /**
     66            * @}
     67            */ 
     68          
     69          
     70          /** @defgroup APP_VCP_Private_Variables
     71            * @{
     72            */ 
     73            
     74          #ifdef USB_OTG_HS_INTERNAL_DMA_ENABLED
     75            #if defined ( __ICCARM__ ) /*!< IAR Compiler */
     76              #pragma data_alignment=4   
     77            #endif
     78          #endif /* USB_OTG_HS_INTERNAL_DMA_ENABLED */
     79             
     80          __ALIGN_BEGIN USB_OTG_CORE_HANDLE    USB_OTG_dev __ALIGN_END ;
     81          
     82          /**
     83            * @}
     84            */ 
     85          
     86          
     87          
     88          
     89          /** @defgroup APP_VCP_Private_Functions
     90            * @{
     91            */ 
     92          
     93          /**
     94            * @brief  Program entry point
     95            * @param  None
     96            * @retval None
     97            */
     98          int main(void)
     99          {
    100            __IO uint32_t i = 0;  
    101          
    102            /*!< At this stage the microcontroller clock setting is already configured, 
    103            this is done through SystemInit() function which is called from startup
    104            file (startup_stm32fxxx_xx.s) before to branch to application main.
    105            To reconfigure the default setting of SystemInit() function, refer to
    106            system_stm32fxxx.c file
    107            */  
    108               
    109            USBD_Init(&USB_OTG_dev,
    110          #ifdef USE_USB_OTG_HS 
    111                      USB_OTG_HS_CORE_ID,
    112          #else            
    113                      USB_OTG_FS_CORE_ID,
    114          #endif  
    115                      &USR_desc, 
    116                      &USBD_CDC_cb, 
    117                      &USR_cb);
    118            
    119          
    120            //DCD_DevConnect(&USB_OTG_dev);
    121            /* Main loop */
    122            while (1)
    123            {
    124              if (i++ == 0x100000)
    125              {
    126             //   STM_EVAL_LEDToggle(LED1);
    127               // STM_EVAL_LEDToggle(LED2);
    128                //STM_EVAL_LEDToggle(LED3);
    129               // STM_EVAL_LEDToggle(LED4);
    130                i = 0;
    131              }
    132            }
    133          } 
    134          
    135          #ifdef USE_FULL_ASSERT
    136          /**
    137          * @brief  assert_failed
    138          *         Reports the name of the source file and the source line number
    139          *         where the assert_param error has occurred.
    140          * @param  File: pointer to the source file name
    141          * @param  Line: assert_param error line source number
    142          * @retval None
    143          */
    144          void assert_failed(uint8_t* file, uint32_t line)
    145          {
    146            /* User can add his own implementation to report the file name and line number,
    147            ex: printf("Wrong parameters value: file %s on line %d\r\n", file, line) */
    148            
    149            /* Infinite loop */
    150            while (1)
    151            {}
    152          }
    153          #endif
    154          
    155          /**
    156            * @}
    157            */ 
    158          
    159          
    160          /**
    161            * @}
    162            */ 
    163          
    164          
    165          /**
    166            * @}
    167            */ 
    168          
    169          /************************ (C) COPYRIGHT STMicroelectronics *****END OF FILE****/

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      16   main
        16   -> USBD_Init


   Section sizes:

   Bytes  Function/Label
   -----  --------------
    1524  USB_OTG_dev
      60  main

 
 1 524 bytes in section .bss
    60 bytes in section .text
 
    60 bytes of CODE memory
 1 524 bytes of DATA memory

Errors: none
Warnings: none
